{% load i18n %}
{# Reusable View Toggle Component #}
{# Usage: {% include "web/components/view_toggle.html" with toggle_id="favourites" toggle_function="toggleFavouritesViewMode" current_view=view_mode %} #}

<div id="view-toggle-{{ toggle_id|default:'default' }}" class="flex items-center shrink-0">
  <button type="button"
     data-view-toggle="grid"
     data-toggle-id="{{ toggle_id|default:'default' }}"
     onclick="{{ toggle_function|default:'toggleViewMode' }}('list')"
     data-tooltip-target="view-tooltip-list-{{ toggle_id|default:'default' }}"
     data-tooltip-placement="top"
    class="{% if current_view != 'grid' %}hidden{% endif %} flex h-11 w-11 items-center justify-center rounded-md border-none bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)] text-gray-700 transition-shadow duration-300 hover:shadow-[0_8px_24px_rgba(0,0,0,0.12)] focus:outline-none focus:shadow-[0_4px_8px_0_rgba(0,0,0,0.16),0_0_2px_1px_rgba(0,0,0,0.08)] dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 dark:focus:bg-gray-600 dark:focus:shadow-[0_4px_10px_-2px_rgb(0_0_0/0.5)] cursor-pointer"
     aria-label="{% translate 'Switch to list view' %}">
    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"/>
    </svg>
  </button>
  <div id="view-tooltip-list-{{ toggle_id|default:'default' }}" role="tooltip" class="absolute z-50 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {% translate "Switch to list view" %}
    <div class="tooltip-arrow" data-popper-arrow></div>
  </div>

  <button type="button"
     data-view-toggle="list"
     data-toggle-id="{{ toggle_id|default:'default' }}"
     onclick="{{ toggle_function|default:'toggleViewMode' }}('grid')"
     data-tooltip-target="view-tooltip-grid-{{ toggle_id|default:'default' }}"
     data-tooltip-placement="top"
    class="{% if current_view == 'grid' %}hidden{% endif %} flex h-11 w-11 items-center justify-center rounded-md border-none bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)] text-gray-700 transition-shadow duration-300 hover:shadow-[0_8px_24px_rgba(0,0,0,0.12)] focus:outline-none focus:shadow-[0_4px_8px_0_rgba(0,0,0,0.16),0_0_2px_1px_rgba(0,0,0,0.08)] dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 dark:focus:bg-gray-600 dark:focus:shadow-[0_4px_10px_-2px_rgb(0_0_0/0.5)] cursor-pointer"
     aria-label="{% translate 'Switch to grid view' %}">
    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.143 4H4.857A.857.857 0 0 0 4 4.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 10 9.143V4.857A.857.857 0 0 0 9.143 4Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 20 9.143V4.857A.857.857 0 0 0 19.143 4Zm-10 10H4.857a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286a.857.857 0 0 0 .857-.857v-4.286A.857.857 0 0 0 9.143 14Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286a.857.857 0 0 0 .857-.857v-4.286a.857.857 0 0 0-.857-.857Z"/>
    </svg>
  </button>
  <div id="view-tooltip-grid-{{ toggle_id|default:'default' }}" role="tooltip" class="absolute z-50 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
    {% translate "Switch to grid view" %}
    <div class="tooltip-arrow" data-popper-arrow></div>
  </div>
</div>
