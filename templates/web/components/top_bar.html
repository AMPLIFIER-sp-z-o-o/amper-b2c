{% if top_bar %}
  {% if top_bar.content_type == "custom" and top_bar.custom_html %}
    <div id="top-bar-custom" class="relative z-50 cms-content">
      {{ top_bar.custom_html|safe }}
    </div>
    {% if top_bar.custom_css %}
      <style id="top-bar-custom-css">
        {{ top_bar.custom_css|safe }}
      </style>
    {% endif %}
    {% if top_bar.custom_js %}
      <script id="top-bar-custom-js">
        {{ top_bar.custom_js|safe }}
      </script>
    {% endif %}
  {% elif top_bar.text %}
    <div style="background: {{ top_bar.background_color|default:'#1A56DB' }}; color: white;" class="text-white relative z-50">
      <div class="mx-auto max-w-7xl px-4">
        <div class="flex w-full flex-wrap items-center justify-center gap-x-3 gap-y-1 py-1.5 text-xs sm:grid sm:py-2.5 sm:text-sm sm:grid-cols-[1fr_auto_1fr] sm:gap-2">
          <div class="hidden sm:block"></div>
          <div class="text-center w-full px-2">
            {% if top_bar.link_url and not top_bar.link_label and "/admin/" not in top_bar.link_url %}
              <a
                href="{{ top_bar.link_url }}"
                style="color: white;"
                class="block font-medium text-white/95 underline decoration-white/60 underline-offset-4 transition hover:text-white"
                {% if top_bar.link_url|slice:":4" == "http" %}rel="noopener"{% endif %}
              >
                {{ top_bar.text }}
              </a>
            {% else %}
              <span class="block font-medium text-white/95">
                {{ top_bar.text }}
              </span>
            {% endif %}
          </div>
          {% if top_bar.link_url and top_bar.link_label and "/admin/" not in top_bar.link_url %}
            <div class="flex justify-center text-white/90 sm:justify-end">
              <a
                href="{{ top_bar.link_url }}"
                style="color: white;"
                class="inline-flex items-center gap-2 rounded-md px-2 py-1 transition hover:bg-white/15 hover:text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
                {% if top_bar.link_url|slice:":4" == "http" %}rel="noopener"{% endif %}
              >
                <svg
                  class="h-4 w-4"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 12h16m-4-4 4 4-4 4"
                  />
                </svg>
                {{ top_bar.link_label }}
              </a>
            </div>
          {% else %}
            <div class="hidden sm:block"></div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}
{% endif %}
